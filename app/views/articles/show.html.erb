<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Body</th>
    </tr>
  </thead>

  <tbody>
      <tr>
        <td><%= @article.id %> </td>
        <td><%= @article.name %> </td>
        <td><%= @article.body %> </td>
      </tr>
  </tbody>
</table>


<hr>

    <% @article.comments.each do |comment| %>
      <tr> 
        <div>
        <td><%= comment.id %></td>
        <td><%= comment.user&.username || "Anonymous" %></td>
        <td><%= comment.body %></td>
        </div>
      </tr>
    <% end %>
  </tbody>
</table>

<h3>Add a comment:</h3>
<%= form_with(model: [ @article, @article.comments.build ]) do |form| %>
  <p>
    <%= form.text_area :body, rows: 3 %>
  </p>
  <p>
    <%= form.submit "Post Comment" %>
  </p>
<% end %>